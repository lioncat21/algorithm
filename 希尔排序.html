<script>
    function hillSort(a){
        var h = 1;
        var k = 1;
        var N = a.length;
        while(h < N){
            k++;
            h = 0.5*(Math.pow(3,k)-1);
        }
        k--;
        h = 0.5*(Math.pow(3,k)-1);
        while(h >= 1){
            var b = [];
            for(var i = 0;i < N;i+=h){
                b.push(a[i]);
            }
            insertSort(b);
            for(var j = 0;j < N;j+=h){
                a[j] = b.shift();
            }
            k--;
            h = 0.5*(Math.pow(3,k)-1);
        }
        return a;
    }

    function insertSort(a){
        var N =a.length;
        for(var i = 0;i < N;i++){
            for(var j = 0;j < i;j++){
                if(a[j] >= a[i]){
                    var temp = a[i];
                    for(var k = 0;k < i-j;k++){
                        a[i-k] = a[i-k-1];
                    }
                    a[j] = temp;
                }
            }
        }
        return a;
    }

    // var arr = [7,4,2,21,16,4,9,12,18,24,32,25,17,11,3,2,3,43,23,54,65,87,22,12,15];

    var arr = [];
    for(var i = 0;i < 50;i++){
        arr[i] = Math.round(Math.random()*100);
    }

    console.log(arr);
    hillSort(arr);
    console.log(arr);


</script>